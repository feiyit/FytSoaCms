/*! JSEncrypt v2.3.1 | https://npmcdn.com/jsencrypt@2.3.1/LICENSE.txt */
(function(n,t){typeof define=="function"&&define.amd?define(["exports"],t):typeof exports=="object"&&typeof exports.nodeName!="string"?t(module.exports):t(n)})(this,function(n){function t(n,t,i){n!=null&&("number"==typeof n?this.fromNumber(n,t,i):t==null&&"string"!=typeof n?this.fromString(n,256):this.fromString(n,t))}function i(){return new t(null)}function ui(n,t,i,r,u,f){while(--f>=0){var e=t*this[n++]+i[r]+u;u=Math.floor(e/67108864);i[r++]=e&67108863}return u}function fi(n,t,i,r,u,f){for(var o=t&32767,s=t>>15;--f>=0;){var e=this[n]&32767,h=this[n++]>>15,c=s*e+h*o;e=o*e+((c&32767)<<15)+i[r]+(u&1073741823);u=(e>>>30)+(c>>>15)+s*h+(u>>>30);i[r++]=e&1073741823}return u}function ei(n,t,i,r,u,f){for(var o=t&16383,s=t>>14;--f>=0;){var e=this[n]&16383,h=this[n++]>>14,c=s*e+h*o;e=o*e+((c&16383)<<14)+i[r]+u;u=(e>>28)+(c>>14)+s*h;i[r++]=e&268435455}return u}function c(n){return bt.charAt(n)}function kt(n,t){var i=nt[n.charCodeAt(t)];return i==null?-1:i}function oi(n){for(var t=this.t-1;t>=0;--t)n[t]=this[t];n.t=this.t;n.s=this.s}function si(n){this.t=1;this.s=n<0?-1:0;n>0?this[0]=n:n<-1?this[0]=n+this.DV:this.t=0}function a(n){var t=i();return t.fromInt(n),t}function hi(n,i){var u,f;if(i==16)u=4;else if(i==8)u=3;else if(i==256)u=8;else if(i==2)u=1;else if(i==32)u=5;else if(i==4)u=2;else{this.fromRadix(n,i);return}this.t=0;this.s=0;for(var e=n.length,o=!1,r=0;--e>=0;){if(f=u==8?n[e]&255:kt(n,e),f<0){n.charAt(e)=="-"&&(o=!0);continue}o=!1;r==0?this[this.t++]=f:r+u>this.DB?(this[this.t-1]|=(f&(1<<this.DB-r)-1)<<r,this[this.t++]=f>>this.DB-r):this[this.t-1]|=f<<r;r+=u;r>=this.DB&&(r-=this.DB)}u==8&&(n[0]&128)!=0&&(this.s=-1,r>0&&(this[this.t-1]|=(1<<this.DB-r)-1<<r));this.clamp();o&&t.ZERO.subTo(this,this)}function ci(){for(var n=this.s&this.DM;this.t>0&&this[this.t-1]==n;)--this.t}function li(n){var t;if(this.s<0)return"-"+this.negate().toString(n);if(n==16)t=4;else if(n==8)t=3;else if(n==2)t=1;else if(n==32)t=5;else if(n==4)t=2;else return this.toRadix(n);var o=(1<<t)-1,u,f=!1,e="",r=this.t,i=this.DB-r*this.DB%t;if(r-->0)for(i<this.DB&&(u=this[r]>>i)>0&&(f=!0,e=c(u));r>=0;)i<t?u=(this[r]&(1<<i)-1)<<t-i|this[--r]>>(i+=this.DB-t):(u=this[r]>>(i-=t)&o,i<=0&&(i+=this.DB,--r)),u>0&&(f=!0),f&&(e+=c(u));return f?e:"0"}function ai(){var n=i();return t.ZERO.subTo(this,n),n}function vi(){return this.s<0?this.negate():this}function yi(n){var t=this.s-n.s,i;if(t!=0)return t;if(i=this.t,t=i-n.t,t!=0)return this.s<0?-t:t;while(--i>=0)if((t=this[i]-n[i])!=0)return t;return 0}function ut(n){var i=1,t;return(t=n>>>16)!=0&&(n=t,i+=16),(t=n>>8)!=0&&(n=t,i+=8),(t=n>>4)!=0&&(n=t,i+=4),(t=n>>2)!=0&&(n=t,i+=2),(t=n>>1)!=0&&(n=t,i+=1),i}function pi(){return this.t<=0?0:this.DB*(this.t-1)+ut(this[this.t-1]^this.s&this.DM)}function wi(n,t){for(var i=this.t-1;i>=0;--i)t[i+n]=this[i];for(i=n-1;i>=0;--i)t[i]=0;t.t=this.t+n;t.s=this.s}function bi(n,t){for(var i=n;i<this.t;++i)t[i-n]=this[i];t.t=Math.max(this.t-n,0);t.s=this.s}function ki(n,t){for(var u=n%this.DB,e=this.DB-u,o=(1<<e)-1,r=Math.floor(n/this.DB),f=this.s<<u&this.DM,i=this.t-1;i>=0;--i)t[i+r+1]=this[i]>>e|f,f=(this[i]&o)<<u;for(i=r-1;i>=0;--i)t[i]=0;t[r]=f;t.t=this.t+r+1;t.s=this.s;t.clamp()}function di(n,t){var i,r;if(t.s=this.s,i=Math.floor(n/this.DB),i>=this.t){t.t=0;return}var u=n%this.DB,f=this.DB-u,e=(1<<u)-1;for(t[0]=this[i]>>u,r=i+1;r<this.t;++r)t[r-i-1]|=(this[r]&e)<<f,t[r-i]=this[r]>>u;u>0&&(t[this.t-i-1]|=(this.s&e)<<f);t.t=this.t-i;t.clamp()}function gi(n,t){for(var r=0,i=0,u=Math.min(n.t,this.t);r<u;)i+=this[r]-n[r],t[r++]=i&this.DM,i>>=this.DB;if(n.t<this.t){for(i-=n.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<n.t;)i-=n[r],t[r++]=i&this.DM,i>>=this.DB;i-=n.s}t.s=i<0?-1:0;i<-1?t[r++]=this.DV+i:i>0&&(t[r++]=i);t.t=r;t.clamp()}function nr(n,i){var u=this.abs(),f=n.abs(),r=u.t;for(i.t=r+f.t;--r>=0;)i[r]=0;for(r=0;r<f.t;++r)i[r+u.t]=u.am(0,f[r],i,r,0,u.t);i.s=0;i.clamp();this.s!=n.s&&t.ZERO.subTo(i,i)}function tr(n){for(var i=this.abs(),t=n.t=2*i.t,r;--t>=0;)n[t]=0;for(t=0;t<i.t-1;++t)r=i.am(t,i[t],n,2*t,0,1),(n[t+i.t]+=i.am(t+1,2*i[t],n,2*t+1,r,i.t-t-1))>=i.DV&&(n[t+i.t]-=i.DV,n[t+i.t+1]=1);n.t>0&&(n[n.t-1]+=i.am(t,i[t],n,2*t,0,1));n.s=0;n.clamp()}function ir(n,r,u){var s=n.abs(),l,e,a,y;if(!(s.t<=0)){if(l=this.abs(),l.t<s.t){r!=null&&r.fromInt(0);u!=null&&this.copyTo(u);return}u==null&&(u=i());var f=i(),p=this.s,b=n.s,c=this.DB-ut(s[s.t-1]);if(c>0?(s.lShiftTo(c,f),l.lShiftTo(c,u)):(s.copyTo(f),l.copyTo(u)),e=f.t,a=f[e-1],a!=0){var w=a*(1<<this.F1)+(e>1?f[e-2]>>this.F2:0),k=this.FV/w,d=(1<<this.F1)/w,g=1<<this.F2,h=u.t,v=h-e,o=r==null?i():r;for(f.dlShiftTo(v,o),u.compareTo(o)>=0&&(u[u.t++]=1,u.subTo(o,u)),t.ONE.dlShiftTo(e,o),o.subTo(f,f);f.t<e;)f[f.t++]=0;while(--v>=0)if(y=u[--h]==a?this.DM:Math.floor(u[h]*k+(u[h-1]+g)*d),(u[h]+=f.am(0,y,u,v,0,e))<y)for(f.dlShiftTo(v,o),u.subTo(o,u);u[h]<--y;)u.subTo(o,u);r!=null&&(u.drShiftTo(e,r),p!=b&&t.ZERO.subTo(r,r));u.t=e;u.clamp();c>0&&u.rShiftTo(c,u);p<0&&t.ZERO.subTo(u,u)}}}function rr(n){var r=i();return this.abs().divRemTo(n,null,r),this.s<0&&r.compareTo(t.ZERO)>0&&n.subTo(r,r),r}function p(n){this.m=n}function ur(n){return n.s<0||n.compareTo(this.m)>=0?n.mod(this.m):n}function fr(n){return n}function er(n){n.divRemTo(this.m,null,n)}function or(n,t,i){n.multiplyTo(t,i);this.reduce(i)}function sr(n,t){n.squareTo(t);this.reduce(t)}function hr(){var t,n;return this.t<1?0:(t=this[0],(t&1)==0)?0:(n=t&3,n=n*(2-(t&15)*n)&15,n=n*(2-(t&255)*n)&255,n=n*(2-((t&65535)*n&65535))&65535,n=n*(2-t*n%this.DV)%this.DV,n>0?this.DV-n:-n)}function w(n){this.m=n;this.mp=n.invDigit();this.mpl=this.mp&32767;this.mph=this.mp>>15;this.um=(1<<n.DB-15)-1;this.mt2=2*n.t}function cr(n){var r=i();return n.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),n.s<0&&r.compareTo(t.ZERO)>0&&this.m.subTo(r,r),r}function lr(n){var t=i();return n.copyTo(t),this.reduce(t),t}function ar(n){for(var i,t,r;n.t<=this.mt2;)n[n.t++]=0;for(i=0;i<this.m.t;++i)for(t=n[i]&32767,r=t*this.mpl+((t*this.mph+(n[i]>>15)*this.mpl&this.um)<<15)&n.DM,t=i+this.m.t,n[t]+=this.m.am(0,r,n,i,0,this.m.t);n[t]>=n.DV;)n[t]-=n.DV,n[++t]++;n.clamp();n.drShiftTo(this.m.t,n);n.compareTo(this.m)>=0&&n.subTo(this.m,n)}function vr(n,t){n.squareTo(t);this.reduce(t)}function yr(n,t,i){n.multiplyTo(t,i);this.reduce(i)}function pr(){return(this.t>0?this[0]&1:this.s)==0}function wr(n,r){var s;if(n>4294967295||n<1)return t.ONE;var u=i(),f=i(),e=r.convert(this),o=ut(n)-1;for(e.copyTo(u);--o>=0;)r.sqrTo(u,f),(n&1<<o)>0?r.mulTo(f,e,u):(s=u,u=f,f=s);return r.revert(u)}function br(n,t){var i;return i=n<256||t.isEven()?new p(t):new w(t),this.exp(n,i)}function kr(){var n=i();return this.copyTo(n),n}function dr(){if(this.s<0){if(this.t==1)return this[0]-this.DV;if(this.t==0)return-1}else{if(this.t==1)return this[0];if(this.t==0)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}function gr(){return this.t==0?this.s:this[0]<<24>>24}function nu(){return this.t==0?this.s:this[0]<<16>>16}function tu(n){return Math.floor(Math.LN2*this.DB/Math.log(n))}function iu(){return this.s<0?-1:this.t<=0||this.t==1&&this[0]<=0?0:1}function ru(n){if(n==null&&(n=10),this.signum()==0||n<2||n>36)return"0";var o=this.chunkSize(n),f=Math.pow(n,o),e=a(f),t=i(),r=i(),u="";for(this.divRemTo(e,t,r);t.signum()>0;)u=(f+r.intValue()).toString(n).substr(1)+u,t.divRemTo(e,t,r);return r.intValue().toString(n)+u}function uu(n,i){var u,e;this.fromInt(0);i==null&&(i=10);var o=this.chunkSize(i),h=Math.pow(i,o),s=!1,f=0,r=0;for(u=0;u<n.length;++u){if(e=kt(n,u),e<0){n.charAt(u)=="-"&&this.signum()==0&&(s=!0);continue}r=i*r+e;++f>=o&&(this.dMultiply(h),this.dAddOffset(r,0),f=0,r=0)}f>0&&(this.dMultiply(Math.pow(i,f)),this.dAddOffset(r,0));s&&t.ZERO.subTo(this,this)}function fu(n,i,r){if("number"==typeof i)if(n<2)this.fromInt(1);else for(this.fromNumber(n,r),this.testBit(n-1)||this.bitwiseTo(t.ONE.shiftLeft(n-1),ft,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(i);)this.dAddOffset(2,0),this.bitLength()>n&&this.subTo(t.ONE.shiftLeft(n-1),this);else{var u=[],f=n&7;u.length=(n>>3)+1;i.nextBytes(u);f>0?u[0]&=(1<<f)-1:u[0]=0;this.fromString(u,256)}}function eu(){var i=this.t,u=[],n,t,r;if(u[0]=this.s,n=this.DB-i*this.DB%8,r=0,i-->0)for(n<this.DB&&(t=this[i]>>n)!=(this.s&this.DM)>>n&&(u[r++]=t|this.s<<this.DB-n);i>=0;)n<8?t=(this[i]&(1<<n)-1)<<8-n|this[--i]>>(n+=this.DB-8):(t=this[i]>>(n-=8)&255,n<=0&&(n+=this.DB,--i)),(t&128)!=0&&(t|=-256),r==0&&(this.s&128)!=(t&128)&&++r,(r>0||t!=this.s)&&(u[r++]=t);return u}function ou(n){return this.compareTo(n)==0}function su(n){return this.compareTo(n)<0?this:n}function hu(n){return this.compareTo(n)>0?this:n}function cu(n,t,i){for(var u,f=Math.min(n.t,this.t),r=0;r<f;++r)i[r]=t(this[r],n[r]);if(n.t<this.t){for(u=n.s&this.DM,r=f;r<this.t;++r)i[r]=t(this[r],u);i.t=this.t}else{for(u=this.s&this.DM,r=f;r<n.t;++r)i[r]=t(u,n[r]);i.t=n.t}i.s=t(this.s,n.s);i.clamp()}function lu(n,t){return n&t}function au(n){var t=i();return this.bitwiseTo(n,lu,t),t}function ft(n,t){return n|t}function vu(n){var t=i();return this.bitwiseTo(n,ft,t),t}function dt(n,t){return n^t}function yu(n){var t=i();return this.bitwiseTo(n,dt,t),t}function gt(n,t){return n&~t}function pu(n){var t=i();return this.bitwiseTo(n,gt,t),t}function wu(){for(var n=i(),t=0;t<this.t;++t)n[t]=this.DM&~this[t];return n.t=this.t,n.s=~this.s,n}function bu(n){var t=i();return n<0?this.rShiftTo(-n,t):this.lShiftTo(n,t),t}function ku(n){var t=i();return n<0?this.lShiftTo(-n,t):this.rShiftTo(n,t),t}function du(n){if(n==0)return-1;var t=0;return(n&65535)==0&&(n>>=16,t+=16),(n&255)==0&&(n>>=8,t+=8),(n&15)==0&&(n>>=4,t+=4),(n&3)==0&&(n>>=2,t+=2),(n&1)==0&&++t,t}function gu(){for(var n=0;n<this.t;++n)if(this[n]!=0)return n*this.DB+du(this[n]);return this.s<0?this.t*this.DB:-1}function nf(n){for(var t=0;n!=0;)n&=n-1,++t;return t}function tf(){for(var t=0,i=this.s&this.DM,n=0;n<this.t;++n)t+=nf(this[n]^i);return t}function rf(n){var t=Math.floor(n/this.DB);return t>=this.t?this.s!=0:(this[t]&1<<n%this.DB)!=0}function uf(n,i){var r=t.ONE.shiftLeft(n);return this.bitwiseTo(r,i,r),r}function ff(n){return this.changeBit(n,ft)}function ef(n){return this.changeBit(n,gt)}function of(n){return this.changeBit(n,dt)}function sf(n,t){for(var r=0,i=0,u=Math.min(n.t,this.t);r<u;)i+=this[r]+n[r],t[r++]=i&this.DM,i>>=this.DB;if(n.t<this.t){for(i+=n.s;r<this.t;)i+=this[r],t[r++]=i&this.DM,i>>=this.DB;i+=this.s}else{for(i+=this.s;r<n.t;)i+=n[r],t[r++]=i&this.DM,i>>=this.DB;i+=n.s}t.s=i<0?-1:0;i>0?t[r++]=i:i<-1&&(t[r++]=this.DV+i);t.t=r;t.clamp()}function hf(n){var t=i();return this.addTo(n,t),t}function cf(n){var t=i();return this.subTo(n,t),t}function lf(n){var t=i();return this.multiplyTo(n,t),t}function af(){var n=i();return this.squareTo(n),n}function vf(n){var t=i();return this.divRemTo(n,t,null),t}function yf(n){var t=i();return this.divRemTo(n,null,t),t}function pf(n){var t=i(),r=i();return this.divRemTo(n,t,r),[t,r]}function wf(n){this[this.t]=this.am(0,n-1,this,0,0,this.t);++this.t;this.clamp()}function bf(n,t){if(n!=0){while(this.t<=t)this[this.t++]=0;for(this[t]+=n;this[t]>=this.DV;)this[t]-=this.DV,++t>=this.t&&(this[this.t++]=0),++this[t]}}function tt(){}function ni(n){return n}function kf(n,t,i){n.multiplyTo(t,i)}function df(n,t){n.squareTo(t)}function gf(n){return this.exp(n,new tt)}function ne(n,t,i){var r=Math.min(this.t+n.t,t),u;for(i.s=0,i.t=r;r>0;)i[--r]=0;for(u=i.t-this.t;r<u;++r)i[r+this.t]=this.am(0,n[r],i,r,0,this.t);for(u=Math.min(n.t,t);r<u;++r)this.am(0,n[r],i,r,0,t-r);i.clamp()}function te(n,t,i){--t;var r=i.t=this.t+n.t-t;for(i.s=0;--r>=0;)i[r]=0;for(r=Math.max(t-this.t,0);r<n.t;++r)i[this.t+r-t]=this.am(t-r,n[r],i,0,0,this.t+r-t);i.clamp();i.drShiftTo(1,i)}function d(n){this.r2=i();this.q3=i();t.ONE.dlShiftTo(2*n.t,this.r2);this.mu=this.r2.divide(n);this.m=n}function ie(n){if(n.s<0||n.t>2*this.m.t)return n.mod(this.m);if(n.compareTo(this.m)<0)return n;var t=i();return n.copyTo(t),this.reduce(t),t}function re(n){return n}function ue(n){for(n.drShiftTo(this.m.t-1,this.r2),n.t>this.m.t+1&&(n.t=this.m.t+1,n.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);n.compareTo(this.r2)<0;)n.dAddOffset(1,this.m.t+1);for(n.subTo(this.r2,n);n.compareTo(this.m)>=0;)n.subTo(this.m,n)}function fe(n,t){n.squareTo(t);this.reduce(t)}function ee(n,t,i){n.multiplyTo(t,i);this.reduce(i)}function oe(n,t){var r=n.bitLength(),l,u=a(1),e,b;if(r<=0)return u;l=r<18?1:r<48?3:r<144?4:r<768?5:6;e=r<8?new p(t):t.isEven()?new d(t):new w(t);var h=[],f=3,v=l-1,k=(1<<l)-1;if(h[1]=e.convert(this),l>1)for(b=i(),e.sqrTo(h[1],b);f<=k;)h[f]=i(),e.mulTo(b,h[f-2],h[f]),f+=2;var o=n.t-1,c,g=!0,s=i(),y;for(r=ut(n[o])-1;o>=0;){for(r>=v?c=n[o]>>r-v&k:(c=(n[o]&(1<<r+1)-1)<<v-r,o>0&&(c|=n[o-1]>>this.DB+r-v)),f=l;(c&1)==0;)c>>=1,--f;if((r-=f)<0&&(r+=this.DB,--o),g)h[c].copyTo(u),g=!1;else{while(f>1)e.sqrTo(u,s),e.sqrTo(s,u),f-=2;f>0?e.sqrTo(u,s):(y=u,u=s,s=y);e.mulTo(s,h[c],u)}while(o>=0&&(n[o]&1<<r)==0)e.sqrTo(u,s),y=u,u=s,s=y,--r<0&&(r=this.DB-1,--o)}return e.revert(u)}function se(n){var i=this.s<0?this.negate():this.clone(),t=n.s<0?n.negate():n.clone(),f,u,r;if(i.compareTo(t)<0&&(f=i,i=t,t=f),u=i.getLowestSetBit(),r=t.getLowestSetBit(),r<0)return i;for(u<r&&(r=u),r>0&&(i.rShiftTo(r,i),t.rShiftTo(r,t));i.signum()>0;)(u=i.getLowestSetBit())>0&&i.rShiftTo(u,i),(u=t.getLowestSetBit())>0&&t.rShiftTo(u,t),i.compareTo(t)>=0?(i.subTo(t,i),i.rShiftTo(1,i)):(t.subTo(i,t),t.rShiftTo(1,t));return r>0&&t.lShiftTo(r,t),t}function he(n){var r,t,i;if(n<=0)return 0;if(r=this.DV%n,t=this.s<0?n-1:0,this.t>0)if(r==0)t=this[0]%n;else for(i=this.t-1;i>=0;--i)t=(r*t+this[i])%n;return t}function ce(n){var s=n.isEven();if(this.isEven()&&s||n.signum()==0)return t.ZERO;for(var u=n.clone(),f=this.clone(),e=a(1),r=a(0),o=a(0),i=a(1);u.signum()!=0;){while(u.isEven())u.rShiftTo(1,u),s?(e.isEven()&&r.isEven()||(e.addTo(this,e),r.subTo(n,r)),e.rShiftTo(1,e)):r.isEven()||r.subTo(n,r),r.rShiftTo(1,r);while(f.isEven())f.rShiftTo(1,f),s?(o.isEven()&&i.isEven()||(o.addTo(this,o),i.subTo(n,i)),o.rShiftTo(1,o)):i.isEven()||i.subTo(n,i),i.rShiftTo(1,i);u.compareTo(f)>=0?(u.subTo(f,u),s&&e.subTo(o,e),r.subTo(i,r)):(f.subTo(u,f),s&&o.subTo(e,o),i.subTo(r,i))}if(f.compareTo(t.ONE)!=0)return t.ZERO;if(i.compareTo(n)>=0)return i.subtract(n);if(i.signum()<0)i.addTo(n,i);else return i;return i.signum()<0?i.add(n):i}function le(n){var t,i=this.abs(),r,u;if(i.t==1&&i[0]<=e[e.length-1]){for(t=0;t<e.length;++t)if(i[0]==e[t])return!0;return!1}if(i.isEven())return!1;for(t=1;t<e.length;){for(r=e[t],u=t+1;u<e.length&&r<ti;)r*=e[u++];for(r=i.modInt(r);t<u;)if(r%e[t++]==0)return!1}return i.millerRabin(n)}function ae(n){var u=this.subtract(t.ONE),f=u.getLowestSetBit(),h,o,s,r,c;if(f<=0)return!1;for(h=u.shiftRight(f),n=n+1>>1,n>e.length&&(n=e.length),o=i(),s=0;s<n;++s)if(o.fromInt(e[Math.floor(Math.random()*e.length)]),r=o.modPow(h,this),r.compareTo(t.ONE)!=0&&r.compareTo(u)!=0){for(c=1;c++<f&&r.compareTo(u)!=0;)if(r=r.modPowInt(2,this),r.compareTo(t.ONE)==0)return!1;if(r.compareTo(u)!=0)return!1}return!0}function ct(){this.i=0;this.j=0;this.S=[]}function ve(n){for(var i,r,t=0;t<256;++t)this.S[t]=t;for(i=0,t=0;t<256;++t)i=i+this.S[t]+n[t%n.length]&255,r=this.S[t],this.S[t]=this.S[i],this.S[i]=r;this.i=0;this.j=0}function ye(){var n;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,n=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=n,this.S[n+this.S[this.i]&255]}function pe(){return new ct}function we(){if(et==null){for(et=pe();h<lt;){var n=Math.floor(65536*Math.random());y[h++]=n&255}for(et.init(y),h=0;h<y.length;++h)y[h]=0;h=0}return et.next()}function be(n){for(var t=0;t<n.length;++t)n[t]=we()}function ht(){}function f(n,i){return new t(n,i)}function ke(n,i){var r,e,u,o,f;if(i<n.length+11)return console.error("Message too long for RSA"),null;for(r=[],e=n.length-1;e>=0&&i>0;)u=n.charCodeAt(e--),u<128?r[--i]=u:u>127&&u<2048?(r[--i]=u&63|128,r[--i]=u>>6|192):(r[--i]=u&63|128,r[--i]=u>>6&63|128,r[--i]=u>>12|224);for(r[--i]=0,o=new ht,f=[];i>2;){for(f[0]=0;f[0]==0;)o.nextBytes(f);r[--i]=f[0]}return r[--i]=2,r[--i]=0,new t(r)}function u(){this.n=null;this.e=0;this.d=null;this.p=null;this.q=null;this.dmp1=null;this.dmq1=null;this.coeff=null}function de(n,t){n!=null&&t!=null&&n.length>0&&t.length>0?(this.n=f(n,16),this.e=parseInt(t,16)):console.error("Invalid RSA public key")}function ge(n){return n.modPowInt(this.e,this.n)}function no(n){var r=ke(n,this.n.bitLength()+7>>3),i,t;return r==null?null:(i=this.doPublic(r),i==null)?null:(t=i.toString(16),(t.length&1)==0?t:"0"+t)}function to(n,t){for(var r=n.toByteArray(),i=0,f,u;i<r.length&&r[i]==0;)++i;if(r.length-i!=t-1||r[i]!=2)return null;for(++i;r[i]!=0;)if(++i>=r.length)return null;for(f="";++i<r.length;)u=r[i]&255,u<128?f+=String.fromCharCode(u):u>191&&u<224?(f+=String.fromCharCode((u&31)<<6|r[i+1]&63),++i):(f+=String.fromCharCode((u&15)<<12|(r[i+1]&63)<<6|r[i+2]&63),i+=2);return f}function io(n,t,i){n!=null&&t!=null&&n.length>0&&t.length>0?(this.n=f(n,16),this.e=parseInt(t,16),this.d=f(i,16)):console.error("Invalid RSA private key")}function ro(n,t,i,r,u,e,o,s){n!=null&&t!=null&&n.length>0&&t.length>0?(this.n=f(n,16),this.e=parseInt(t,16),this.d=f(i,16),this.p=f(r,16),this.q=f(u,16),this.dmp1=f(e,16),this.dmq1=f(o,16),this.coeff=f(s,16)):console.error("Invalid RSA private key")}function uo(n,i){var u=new ht,f=n>>1,r,e;for(this.e=parseInt(i,16),r=new t(i,16);;){for(;;)if(this.p=new t(n-f,1,u),this.p.subtract(t.ONE).gcd(r).compareTo(t.ONE)==0&&this.p.isProbablePrime(10))break;for(;;)if(this.q=new t(f,1,u),this.q.subtract(t.ONE).gcd(r).compareTo(t.ONE)==0&&this.q.isProbablePrime(10))break;this.p.compareTo(this.q)<=0&&(e=this.p,this.p=this.q,this.q=e);var o=this.p.subtract(t.ONE),s=this.q.subtract(t.ONE),h=o.multiply(s);if(h.gcd(r).compareTo(t.ONE)==0){this.n=this.p.multiply(this.q);this.d=r.modInverse(h);this.dmp1=this.d.mod(o);this.dmq1=this.d.mod(s);this.coeff=this.q.modInverse(this.p);break}}}function fo(n){if(this.p==null||this.q==null)return n.modPow(this.d,this.n);for(var t=n.mod(this.p).modPow(this.dmp1,this.p),i=n.mod(this.q).modPow(this.dmq1,this.q);t.compareTo(i)<0;)t=t.add(this.p);return t.subtract(i).multiply(this.coeff).mod(this.p).multiply(this.q).add(i)}function eo(n){var i=f(n,16),t=this.doPrivate(i);return t==null?null:to(t,this.n.bitLength()+7>>3)}function vt(n){for(var i,r="",t=0;t+3<=n.length;t+=3)i=parseInt(n.substring(t,t+3),16),r+=b.charAt(i>>6)+b.charAt(i&63);for(t+1==n.length?(i=parseInt(n.substring(t,t+1),16),r+=b.charAt(i<<2)):t+2==n.length&&(i=parseInt(n.substring(t,t+2),16),r+=b.charAt(i>>2)+b.charAt((i&3)<<4));(r.length&3)>0;)r+=at;return r}function ii(n){for(var t="",i=0,r,u=0;u<n.length;++u){if(n.charAt(u)==at)break;(v=b.indexOf(n.charAt(u)),v<0)||(i==0?(t+=c(v>>2),r=v&3,i=1):i==1?(t+=c(r<<2|v>>4),r=v&15,i=2):i==2?(t+=c(r),t+=c(v>>2),r=v&3,i=3):(t+=c(r<<2|v>>4),t+=c(v&15),i=0))}return i==1&&(t+=c(r<<2)),t}var l,wt=(0xdeadbeefcafe&16777215)==15715070,rt,bt,nt,k,s,e,ti,lt,et,y,h,ot,st,it,b,at,r,g,o;for(wt&&navigator.appName=="Microsoft Internet Explorer"?(t.prototype.am=fi,l=30):wt&&navigator.appName!="Netscape"?(t.prototype.am=ui,l=26):(t.prototype.am=ei,l=28),t.prototype.DB=l,t.prototype.DM=(1<<l)-1,t.prototype.DV=1<<l,rt=52,t.prototype.FV=Math.pow(2,rt),t.prototype.F1=rt-l,t.prototype.F2=2*l-rt,bt="0123456789abcdefghijklmnopqrstuvwxyz",nt=[],k="0".charCodeAt(0),s=0;s<=9;++s)nt[k++]=s;for(k="a".charCodeAt(0),s=10;s<36;++s)nt[k++]=s;for(k="A".charCodeAt(0),s=10;s<36;++s)nt[k++]=s;if(p.prototype.convert=ur,p.prototype.revert=fr,p.prototype.reduce=er,p.prototype.mulTo=or,p.prototype.sqrTo=sr,w.prototype.convert=cr,w.prototype.revert=lr,w.prototype.reduce=ar,w.prototype.mulTo=yr,w.prototype.sqrTo=vr,t.prototype.copyTo=oi,t.prototype.fromInt=si,t.prototype.fromString=hi,t.prototype.clamp=ci,t.prototype.dlShiftTo=wi,t.prototype.drShiftTo=bi,t.prototype.lShiftTo=ki,t.prototype.rShiftTo=di,t.prototype.subTo=gi,t.prototype.multiplyTo=nr,t.prototype.squareTo=tr,t.prototype.divRemTo=ir,t.prototype.invDigit=hr,t.prototype.isEven=pr,t.prototype.exp=wr,t.prototype.toString=li,t.prototype.negate=ai,t.prototype.abs=vi,t.prototype.compareTo=yi,t.prototype.bitLength=pi,t.prototype.mod=rr,t.prototype.modPowInt=br,t.ZERO=a(0),t.ONE=a(1),tt.prototype.convert=ni,tt.prototype.revert=ni,tt.prototype.mulTo=kf,tt.prototype.sqrTo=df,d.prototype.convert=ie,d.prototype.revert=re,d.prototype.reduce=ue,d.prototype.mulTo=ee,d.prototype.sqrTo=fe,e=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],ti=67108864/e[e.length-1],t.prototype.chunkSize=tu,t.prototype.toRadix=ru,t.prototype.fromRadix=uu,t.prototype.fromNumber=fu,t.prototype.bitwiseTo=cu,t.prototype.changeBit=uf,t.prototype.addTo=sf,t.prototype.dMultiply=wf,t.prototype.dAddOffset=bf,t.prototype.multiplyLowerTo=ne,t.prototype.multiplyUpperTo=te,t.prototype.modInt=he,t.prototype.millerRabin=ae,t.prototype.clone=kr,t.prototype.intValue=dr,t.prototype.byteValue=gr,t.prototype.shortValue=nu,t.prototype.signum=iu,t.prototype.toByteArray=eu,t.prototype.equals=ou,t.prototype.min=su,t.prototype.max=hu,t.prototype.and=au,t.prototype.or=vu,t.prototype.xor=yu,t.prototype.andNot=pu,t.prototype.not=wu,t.prototype.shiftLeft=bu,t.prototype.shiftRight=ku,t.prototype.getLowestSetBit=gu,t.prototype.bitCount=tf,t.prototype.testBit=rf,t.prototype.setBit=ff,t.prototype.clearBit=ef,t.prototype.flipBit=of,t.prototype.add=hf,t.prototype.subtract=cf,t.prototype.multiply=lf,t.prototype.divide=vf,t.prototype.remainder=yf,t.prototype.divideAndRemainder=pf,t.prototype.modPow=oe,t.prototype.modInverse=ce,t.prototype.pow=gf,t.prototype.gcd=se,t.prototype.isProbablePrime=le,t.prototype.square=af,ct.prototype.init=ve,ct.prototype.next=ye,lt=256,y==null){if(y=[],h=0,window.crypto&&window.crypto.getRandomValues)for(st=new Uint32Array(256),window.crypto.getRandomValues(st),ot=0;ot<st.length;++ot)y[h++]=st[ot]&255;it=function(n){if(this.count=this.count||0,this.count>=256||h>=lt){window.removeEventListener?window.removeEventListener("mousemove",it,!1):window.detachEvent&&window.detachEvent("onmousemove",it);return}try{var t=n.x+n.y;y[h++]=t&255;this.count+=1}catch(i){}};window.addEventListener?window.addEventListener("mousemove",it,!1):window.attachEvent&&window.attachEvent("onmousemove",it)}ht.prototype.nextBytes=be;u.prototype.doPublic=ge;u.prototype.setPublic=de;u.prototype.encrypt=no;u.prototype.doPrivate=fo;u.prototype.setPrivate=io;u.prototype.setPrivateEx=ro;u.prototype.generate=uo;u.prototype.decrypt=eo,function(){var f=function(n,r,u){var o=new ht,s=n>>1;this.e=parseInt(r,16);var e=new t(r,16),f=this,h=function(){var l=function(){var n;f.p.compareTo(f.q)<=0&&(n=f.p,f.p=f.q,f.q=n);var i=f.p.subtract(t.ONE),r=f.q.subtract(t.ONE),o=i.multiply(r);o.gcd(e).compareTo(t.ONE)==0?(f.n=f.p.multiply(f.q),f.d=e.modInverse(o),f.dmp1=f.d.mod(i),f.dmq1=f.d.mod(r),f.coeff=f.q.modInverse(f.p),setTimeout(function(){u()},0)):setTimeout(h,0)},r=function(){f.q=i();f.q.fromNumberAsync(s,1,o,function(){f.q.subtract(t.ONE).gcda(e,function(n){n.compareTo(t.ONE)==0&&f.q.isProbablePrime(10)?setTimeout(l,0):setTimeout(r,0)})})},c=function(){f.p=i();f.p.fromNumberAsync(n-s,1,o,function(){f.p.subtract(t.ONE).gcda(e,function(n){n.compareTo(t.ONE)==0&&f.p.isProbablePrime(10)?setTimeout(r,0):setTimeout(c,0)})})};setTimeout(c,0)};setTimeout(h,0)},n,r;u.prototype.generateAsync=f;n=function(n,t){var r=this.s<0?this.negate():this.clone(),i=n.s<0?n.negate():n.clone(),o,f,u,e;if(r.compareTo(i)<0&&(o=r,r=i,i=o),f=r.getLowestSetBit(),u=i.getLowestSetBit(),u<0){t(r);return}f<u&&(u=f);u>0&&(r.rShiftTo(u,r),i.rShiftTo(u,i));e=function(){(f=r.getLowestSetBit())>0&&r.rShiftTo(f,r);(f=i.getLowestSetBit())>0&&i.rShiftTo(f,i);r.compareTo(i)>=0?(r.subTo(i,r),r.rShiftTo(1,r)):(i.subTo(r,i),i.rShiftTo(1,i));r.signum()>0?setTimeout(e,0):(u>0&&i.lShiftTo(u,i),setTimeout(function(){t(i)},0))};setTimeout(e,10)};t.prototype.gcda=n;r=function(n,i,r,u){var f,o,e,s;"number"==typeof i?n<2?this.fromInt(1):(this.fromNumber(n,r),this.testBit(n-1)||this.bitwiseTo(t.ONE.shiftLeft(n-1),ft,this),this.isEven()&&this.dAddOffset(1,0),f=this,o=function(){f.dAddOffset(2,0);f.bitLength()>n&&f.subTo(t.ONE.shiftLeft(n-1),f);f.isProbablePrime(i)?setTimeout(function(){u()},0):setTimeout(o,0)},setTimeout(o,0)):(e=[],s=n&7,e.length=(n>>3)+1,i.nextBytes(e),s>0?e[0]&=(1<<s)-1:e[0]=0,this.fromString(e,256))};t.prototype.fromNumberAsync=r}();b="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";at="=";
/*! asn1-1.0.2.js (c) 2013 Kenji Urushima | kjur.github.com/jsrsasign/license
 */
r=r||{};r.env=r.env||{};var yt=r,pt=Object.prototype,oo="[object Function]",ri=["toString","valueOf"];r.env.parseUA=function(n){var u=function(n){var t=0;return parseFloat(n.replace(/\./g,function(){return t++==1?"":"."}))},f=navigator,i={ie:0,opera:0,gecko:0,webkit:0,chrome:0,mobile:null,air:0,ipad:0,iphone:0,ipod:0,ios:null,android:0,webos:0,caja:f&&f.cajaVersion,secure:!1,os:null},r=n||navigator&&navigator.userAgent,e=window&&window.location,o=e&&e.href,t;return i.secure=o&&o.toLowerCase().indexOf("https")===0,r&&(/windows|win32/i.test(r)?i.os="windows":/macintosh/i.test(r)?i.os="macintosh":/rhino/i.test(r)&&(i.os="rhino"),/KHTML/.test(r)&&(i.webkit=1),t=r.match(/AppleWebKit\/([^\s]*)/),t&&t[1]&&(i.webkit=u(t[1]),/ Mobile\//.test(r)?(i.mobile="Apple",t=r.match(/OS ([^\s]*)/),t&&t[1]&&(t=u(t[1].replace("_","."))),i.ios=t,i.ipad=i.ipod=i.iphone=0,t=r.match(/iPad|iPod|iPhone/),t&&t[0]&&(i[t[0].toLowerCase()]=i.ios)):(t=r.match(/NokiaN[^\/]*|Android \d\.\d|webOS\/\d\.\d/),t&&(i.mobile=t[0]),/webOS/.test(r)&&(i.mobile="WebOS",t=r.match(/webOS\/([^\s]*);/),t&&t[1]&&(i.webos=u(t[1]))),/ Android/.test(r)&&(i.mobile="Android",t=r.match(/Android ([^\s]*);/),t&&t[1]&&(i.android=u(t[1])))),t=r.match(/Chrome\/([^\s]*)/),t&&t[1]?i.chrome=u(t[1]):(t=r.match(/AdobeAIR\/([^\s]*)/),t&&(i.air=t[0]))),i.webkit||(t=r.match(/Opera[\s\/]([^\s]*)/),t&&t[1]?(i.opera=u(t[1]),t=r.match(/Version\/([^\s]*)/),t&&t[1]&&(i.opera=u(t[1])),t=r.match(/Opera Mini[^;]*/),t&&(i.mobile=t[0])):(t=r.match(/MSIE\s([^;]*)/),t&&t[1]?i.ie=u(t[1]):(t=r.match(/Gecko\/([^\s]*)/),t&&(i.gecko=1,t=r.match(/rv:([^\s\)]*)/),t&&t[1]&&(i.gecko=u(t[1]))))))),i};r.env.ua=r.env.parseUA();r.isFunction=function(n){return typeof n=="function"||pt.toString.apply(n)===oo};r._IEEnumFix=r.env.ua.ie?function(n,t){for(var r,u,i=0;i<ri.length;i=i+1)r=ri[i],u=t[r],yt.isFunction(u)&&u!=pt[r]&&(n[r]=u)}:function(){};r.extend=function(n,t,i){if(!t||!n)throw new Error("extend failed, please check that all dependencies are included.");var u=function(){},r;if(u.prototype=t.prototype,n.prototype=new u,n.prototype.constructor=n,n.superclass=t.prototype,t.prototype.constructor==pt.constructor&&(t.prototype.constructor=t),i){for(r in i)yt.hasOwnProperty(i,r)&&(n.prototype[r]=i[r]);yt._IEEnumFix(n.prototype,i)}};
/**
 * @fileOverview
 * @name asn1-1.0.js
 * @author Kenji Urushima kenji.urushima@gmail.com
 * @version 1.0.2 (2013-May-30)
 * @since 2.1
 * @license <a href="http://kjur.github.io/jsrsasign/license/">MIT License</a>
 */
typeof KJUR!="undefined"&&KJUR||(KJUR={});typeof KJUR.asn1!="undefined"&&KJUR.asn1||(KJUR.asn1={});KJUR.asn1.ASN1Util=new function(){this.integerToByteHex=function(n){var t=n.toString(16);return t.length%2==1&&(t="0"+t),t};this.bigIntToMinTwosComplementsHex=function(n){var i=n.toString(16),e,r,u,f,o,s;if(i.substr(0,1)!="-")i.length%2==1?i="0"+i:i.match(/^[0-7]/)||(i="00"+i);else{for(e=i.substr(1),r=e.length,r%2==1?r+=1:i.match(/^[0-7]/)||(r+=2),u="",f=0;f<r;f++)u+="f";o=new t(u,16);s=o.xor(n).add(t.ONE);i=s.toString(16).replace(/^-/,"")}return i};this.getPEMStringFromHex=function(n,t){var r=CryptoJS.enc.Hex.parse(n),u=CryptoJS.enc.Base64.stringify(r),i=u.replace(/(.{64})/g,"$1\r\n");return i=i.replace(/\r\n$/,""),"-----BEGIN "+t+"-----\r\n"+i+"\r\n-----END "+t+"-----\r\n"}};KJUR.asn1.ASN1Object=function(){var n="";this.getLengthHexFromValue=function(){var i,t,r,u;if(typeof this.hV=="undefined"||this.hV==null)throw"this.hV is null or undefined.";if(this.hV.length%2==1)throw"value hex must be even length: n="+n.length+",v="+this.hV;if(i=this.hV.length/2,t=i.toString(16),t.length%2==1&&(t="0"+t),i<128)return t;if(r=t.length/2,r>15)throw"ASN.1 length too long to represent by 8x: n = "+i.toString(16);return u=128+r,u.toString(16)+t};this.getEncodedHex=function(){return(this.hTLV==null||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV};this.getValueHex=function(){return this.getEncodedHex(),this.hV};this.getFreshValueHex=function(){return""}};KJUR.asn1.DERAbstractString=function(n){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.getString=function(){return this.s};this.setString=function(n){this.hTLV=null;this.isModified=!0;this.s=n;this.hV=stohex(this.s)};this.setStringHex=function(n){this.hTLV=null;this.isModified=!0;this.s=null;this.hV=n};this.getFreshValueHex=function(){return this.hV};typeof n!="undefined"&&(typeof n.str!="undefined"?this.setString(n.str):typeof n.hex!="undefined"&&this.setStringHex(n.hex))};r.extend(KJUR.asn1.DERAbstractString,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractTime=function(){KJUR.asn1.DERAbstractTime.superclass.constructor.call(this);this.localDateToUTC=function(n){utc=n.getTime()+n.getTimezoneOffset()*6e4;return new Date(utc)};this.formatDate=function(n,t){var r=this.zeroPadding,i=this.localDateToUTC(n),u=String(i.getFullYear());t=="utc"&&(u=u.substr(2,2));var f=r(String(i.getMonth()+1),2),e=r(String(i.getDate()),2),o=r(String(i.getHours()),2),s=r(String(i.getMinutes()),2),h=r(String(i.getSeconds()),2);return u+f+e+o+s+h+"Z"};this.zeroPadding=function(n,t){return n.length>=t?n:new Array(t-n.length+1).join("0")+n};this.getString=function(){return this.s};this.setString=function(n){this.hTLV=null;this.isModified=!0;this.s=n;this.hV=stohex(this.s)};this.setByDateValue=function(n,t,i,r,u,f){var e=new Date(Date.UTC(n,t-1,i,r,u,f,0));this.setByDate(e)};this.getFreshValueHex=function(){return this.hV}};r.extend(KJUR.asn1.DERAbstractTime,KJUR.asn1.ASN1Object);KJUR.asn1.DERAbstractStructured=function(n){KJUR.asn1.DERAbstractString.superclass.constructor.call(this);this.setByASN1ObjectArray=function(n){this.hTLV=null;this.isModified=!0;this.asn1Array=n};this.appendASN1Object=function(n){this.hTLV=null;this.isModified=!0;this.asn1Array.push(n)};this.asn1Array=[];typeof n!="undefined"&&typeof n.array!="undefined"&&(this.asn1Array=n.array)};r.extend(KJUR.asn1.DERAbstractStructured,KJUR.asn1.ASN1Object);KJUR.asn1.DERBoolean=function(){KJUR.asn1.DERBoolean.superclass.constructor.call(this);this.hT="01";this.hTLV="0101ff"};r.extend(KJUR.asn1.DERBoolean,KJUR.asn1.ASN1Object);KJUR.asn1.DERInteger=function(n){KJUR.asn1.DERInteger.superclass.constructor.call(this);this.hT="02";this.setByBigInteger=function(n){this.hTLV=null;this.isModified=!0;this.hV=KJUR.asn1.ASN1Util.bigIntToMinTwosComplementsHex(n)};this.setByInteger=function(n){var i=new t(String(n),10);this.setByBigInteger(i)};this.setValueHex=function(n){this.hV=n};this.getFreshValueHex=function(){return this.hV};typeof n!="undefined"&&(typeof n.bigint!="undefined"?this.setByBigInteger(n.bigint):typeof n.int!="undefined"?this.setByInteger(n.int):typeof n.hex!="undefined"&&this.setValueHex(n.hex))};r.extend(KJUR.asn1.DERInteger,KJUR.asn1.ASN1Object);KJUR.asn1.DERBitString=function(n){KJUR.asn1.DERBitString.superclass.constructor.call(this);this.hT="03";this.setHexValueIncludingUnusedBits=function(n){this.hTLV=null;this.isModified=!0;this.hV=n};this.setUnusedBitsAndHexValue=function(n,t){if(n<0||7<n)throw"unused bits shall be from 0 to 7: u = "+n;var i="0"+n;this.hTLV=null;this.isModified=!0;this.hV=i+t};this.setByBinaryString=function(n){var i,u,t,f,r;for(n=n.replace(/0+$/,""),i=8-n.length%8,i==8&&(i=0),t=0;t<=i;t++)n+="0";for(u="",t=0;t<n.length-1;t+=8)f=n.substr(t,8),r=parseInt(f,2).toString(16),r.length==1&&(r="0"+r),u+=r;this.hTLV=null;this.isModified=!0;this.hV="0"+i+u};this.setByBooleanArray=function(n){for(var i="",t=0;t<n.length;t++)i+=n[t]==!0?"1":"0";this.setByBinaryString(i)};this.newFalseArray=function(n){for(var i=new Array(n),t=0;t<n;t++)i[t]=!1;return i};this.getFreshValueHex=function(){return this.hV};typeof n!="undefined"&&(typeof n.hex!="undefined"?this.setHexValueIncludingUnusedBits(n.hex):typeof n.bin!="undefined"?this.setByBinaryString(n.bin):typeof n.array!="undefined"&&this.setByBooleanArray(n.array))};r.extend(KJUR.asn1.DERBitString,KJUR.asn1.ASN1Object);KJUR.asn1.DEROctetString=function(n){KJUR.asn1.DEROctetString.superclass.constructor.call(this,n);this.hT="04"};r.extend(KJUR.asn1.DEROctetString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNull=function(){KJUR.asn1.DERNull.superclass.constructor.call(this);this.hT="05";this.hTLV="0500"};r.extend(KJUR.asn1.DERNull,KJUR.asn1.ASN1Object);KJUR.asn1.DERObjectIdentifier=function(n){var i=function(n){var t=n.toString(16);return t.length==1&&(t="0"+t),t},r=function(n){var s="",h=new t(n,10),u=h.toString(2),e=7-u.length%7,o,r,f;for(e==7&&(e=0),o="",r=0;r<e;r++)o+="0";for(u=o+u,r=0;r<u.length-1;r+=7)f=u.substr(r,7),r!=u.length-7&&(f="1"+f),s+=i(parseInt(f,2));return s};KJUR.asn1.DERObjectIdentifier.superclass.constructor.call(this);this.hT="06";this.setValueHex=function(n){this.hTLV=null;this.isModified=!0;this.s=null;this.hV=n};this.setValueOidString=function(n){var u;if(!n.match(/^[0-9.]+$/))throw"malformed oid string: "+n;var f="",t=n.split("."),e=parseInt(t[0])*40+parseInt(t[1]);for(f+=i(e),t.splice(0,2),u=0;u<t.length;u++)f+=r(t[u]);this.hTLV=null;this.isModified=!0;this.s=null;this.hV=f};this.setValueName=function(n){if(typeof KJUR.asn1.x509.OID.name2oidList[n]!="undefined"){var t=KJUR.asn1.x509.OID.name2oidList[n];this.setValueOidString(t)}else throw"DERObjectIdentifier oidName undefined: "+n;};this.getFreshValueHex=function(){return this.hV};typeof n!="undefined"&&(typeof n.oid!="undefined"?this.setValueOidString(n.oid):typeof n.hex!="undefined"?this.setValueHex(n.hex):typeof n.name!="undefined"&&this.setValueName(n.name))};r.extend(KJUR.asn1.DERObjectIdentifier,KJUR.asn1.ASN1Object);KJUR.asn1.DERUTF8String=function(n){KJUR.asn1.DERUTF8String.superclass.constructor.call(this,n);this.hT="0c"};r.extend(KJUR.asn1.DERUTF8String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERNumericString=function(n){KJUR.asn1.DERNumericString.superclass.constructor.call(this,n);this.hT="12"};r.extend(KJUR.asn1.DERNumericString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERPrintableString=function(n){KJUR.asn1.DERPrintableString.superclass.constructor.call(this,n);this.hT="13"};r.extend(KJUR.asn1.DERPrintableString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERTeletexString=function(n){KJUR.asn1.DERTeletexString.superclass.constructor.call(this,n);this.hT="14"};r.extend(KJUR.asn1.DERTeletexString,KJUR.asn1.DERAbstractString);KJUR.asn1.DERIA5String=function(n){KJUR.asn1.DERIA5String.superclass.constructor.call(this,n);this.hT="16"};r.extend(KJUR.asn1.DERIA5String,KJUR.asn1.DERAbstractString);KJUR.asn1.DERUTCTime=function(n){KJUR.asn1.DERUTCTime.superclass.constructor.call(this,n);this.hT="17";this.setByDate=function(n){this.hTLV=null;this.isModified=!0;this.date=n;this.s=this.formatDate(this.date,"utc");this.hV=stohex(this.s)};typeof n!="undefined"&&(typeof n.str!="undefined"?this.setString(n.str):typeof n.hex!="undefined"?this.setStringHex(n.hex):typeof n.date!="undefined"&&this.setByDate(n.date))};r.extend(KJUR.asn1.DERUTCTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERGeneralizedTime=function(n){KJUR.asn1.DERGeneralizedTime.superclass.constructor.call(this,n);this.hT="18";this.setByDate=function(n){this.hTLV=null;this.isModified=!0;this.date=n;this.s=this.formatDate(this.date,"gen");this.hV=stohex(this.s)};typeof n!="undefined"&&(typeof n.str!="undefined"?this.setString(n.str):typeof n.hex!="undefined"?this.setStringHex(n.hex):typeof n.date!="undefined"&&this.setByDate(n.date))};r.extend(KJUR.asn1.DERGeneralizedTime,KJUR.asn1.DERAbstractTime);KJUR.asn1.DERSequence=function(n){KJUR.asn1.DERSequence.superclass.constructor.call(this,n);this.hT="30";this.getFreshValueHex=function(){for(var i,t="",n=0;n<this.asn1Array.length;n++)i=this.asn1Array[n],t+=i.getEncodedHex();return this.hV=t,this.hV}};r.extend(KJUR.asn1.DERSequence,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERSet=function(n){KJUR.asn1.DERSet.superclass.constructor.call(this,n);this.hT="31";this.getFreshValueHex=function(){for(var i,n=[],t=0;t<this.asn1Array.length;t++)i=this.asn1Array[t],n.push(i.getEncodedHex());return n.sort(),this.hV=n.join(""),this.hV}};r.extend(KJUR.asn1.DERSet,KJUR.asn1.DERAbstractStructured);KJUR.asn1.DERTaggedObject=function(n){KJUR.asn1.DERTaggedObject.superclass.constructor.call(this);this.hT="a0";this.hV="";this.isExplicit=!0;this.asn1Object=null;this.setASN1Object=function(n,t,i){this.hT=t;this.isExplicit=n;this.asn1Object=i;this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=i.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,t),this.isModified=!1)};this.getFreshValueHex=function(){return this.hV};typeof n!="undefined"&&(typeof n.tag!="undefined"&&(this.hT=n.tag),typeof n.explicit!="undefined"&&(this.isExplicit=n.explicit),typeof n.obj!="undefined"&&(this.asn1Object=n.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))};r.extend(KJUR.asn1.DERTaggedObject,KJUR.asn1.ASN1Object),function(n){"use strict";var i={},t;i.decode=function(i){var r,f,o,u;if(t===n){for(f="0123456789ABCDEF",o=" \f\n\r\t \u2028\u2029",t=[],r=0;r<16;++r)t[f.charAt(r)]=r;for(f=f.toLowerCase(),r=10;r<16;++r)t[f.charAt(r)]=r;for(r=0;r<o.length;++r)t[o.charAt(r)]=-1}var s=[],e=0,h=0;for(r=0;r<i.length;++r){if(u=i.charAt(r),u=="=")break;if(u=t[u],u!=-1){if(u===n)throw"Illegal character at offset "+r;e|=u;++h>=2?(s[s.length]=e,e=0,h=0):e<<=4}}if(h)throw"Hex encoding incomplete: 4 bits missing";return s};window.Hex=i}(),function(n){"use strict";var t={},i;t.decode=function(t){var r,h,o,e;if(i===n){for(h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o="= \f\n\r\t \u2028\u2029",i=[],r=0;r<64;++r)i[h.charAt(r)]=r;for(r=0;r<o.length;++r)i[o.charAt(r)]=-1}var u=[],f=0,s=0;for(r=0;r<t.length;++r){if(e=t.charAt(r),e=="=")break;if(e=i[e],e!=-1){if(e===n)throw"Illegal character at offset "+r;f|=e;++s>=4?(u[u.length]=f>>16,u[u.length]=f>>8&255,u[u.length]=f&255,f=0,s=0):f<<=6}}switch(s){case 1:throw"Base64 encoding incomplete: at least 2 bits missing";case 2:u[u.length]=f>>10;break;case 3:u[u.length]=f>>16;u[u.length]=f>>8&255}return u};t.re=/-----BEGIN [^-]+-----([A-Za-z0-9+\/=\s]+)-----END [^-]+-----|begin-base64[^\n]+\n([A-Za-z0-9+\/=\s]+)====/;t.unarmor=function(n){var i=t.re.exec(n);if(i)if(i[1])n=i[1];else if(i[2])n=i[2];else throw"RegExp out of sync";return t.decode(n)};window.Base64=t}(),function(n){"use strict";function i(n,t){n instanceof i?(this.enc=n.enc,this.pos=n.pos):(this.enc=n,this.pos=t)}function t(n,t,i,r,u){this.stream=n;this.header=t;this.length=i;this.tag=r;this.sub=u}var u=100,f="…",r={tag:function(n,t){var i=document.createElement(n);return i.className=t,i},text:function(n){return document.createTextNode(n)}};i.prototype.get=function(t){if(t===n&&(t=this.pos++),t>=this.enc.length)throw"Requesting byte offset "+t+" on a stream of length "+this.enc.length;return this.enc[t]};i.prototype.hexDigits="0123456789ABCDEF";i.prototype.hexByte=function(n){return this.hexDigits.charAt(n>>4&15)+this.hexDigits.charAt(n&15)};i.prototype.hexDump=function(n,t,i){for(var r="",u=n;u<t;++u)if(r+=this.hexByte(this.get(u)),i!==!0)switch(u&15){case 7:r+="  ";break;case 15:r+="\n";break;default:r+=" "}return r};i.prototype.parseStringISO=function(n,t){for(var r="",i=n;i<t;++i)r+=String.fromCharCode(this.get(i));return r};i.prototype.parseStringUTF=function(n,t){for(var i,u="",r=n;r<t;)i=this.get(r++),u+=i<128?String.fromCharCode(i):i>191&&i<224?String.fromCharCode((i&31)<<6|this.get(r++)&63):String.fromCharCode((i&15)<<12|(this.get(r++)&63)<<6|this.get(r++)&63);return u};i.prototype.parseStringBMP=function(n,t){for(var u,f,r="",i=n;i<t;i+=2)u=this.get(i),f=this.get(i+1),r+=String.fromCharCode((u<<8)+f);return r};i.prototype.reTime=/^((?:1[89]|2\d)?\d\d)(0[1-9]|1[0-2])(0[1-9]|[12]\d|3[01])([01]\d|2[0-3])(?:([0-5]\d)(?:([0-5]\d)(?:[.,](\d{1,3}))?)?)?(Z|[-+](?:[0]\d|1[0-2])([0-5]\d)?)?$/;i.prototype.parseTime=function(n,t){var r=this.parseStringISO(n,t),i=this.reTime.exec(r);return i?(r=i[1]+"-"+i[2]+"-"+i[3]+" "+i[4],i[5]&&(r+=":"+i[5],i[6]&&(r+=":"+i[6],i[7]&&(r+="."+i[7]))),i[8]&&(r+=" UTC",i[8]!="Z"&&(r+=i[8],i[9]&&(r+=":"+i[9]))),r):"Unrecognized time: "+r};i.prototype.parseInteger=function(n,t){var i=t-n,r,u,f;if(i>4){if(i<<=3,r=this.get(n),r===0)i-=8;else while(r<128)r<<=1,--i;return"("+i+" bit)"}for(u=0,f=n;f<t;++f)u=u<<8|this.get(f);return u};i.prototype.parseBitString=function(n,t){var e=this.get(n),o=(t-n-1<<3)-e,u="("+o+" bit)",f,i,s,r;if(o<=20)for(f=e,u+=" ",i=t-1;i>n;--i){for(s=this.get(i),r=f;r<8;++r)u+=s>>r&1?"1":"0";f=0}return u};i.prototype.parseOctetString=function(n,t){var r=t-n,e="("+r+" byte) ",i;for(r>u&&(t=n+u),i=n;i<t;++i)e+=this.hexByte(this.get(i));return r>u&&(e+=f),e};i.prototype.parseOID=function(n,t){for(var e,o,r="",i=0,u=0,f=n;f<t;++f)e=this.get(f),i=i<<7|e&127,u+=7,e&128||(r===""?(o=i<80?i<40?0:1:2,r=o+"."+(i-o*40)):r+="."+(u>=31?"bigint":i),i=u=0);return r};t.prototype.typeName=function(){if(this.tag===n)return"unknown";var i=this.tag>>6,r=this.tag>>5&1,t=this.tag&31;switch(i){case 0:switch(t){case 0:return"EOC";case 1:return"BOOLEAN";case 2:return"INTEGER";case 3:return"BIT_STRING";case 4:return"OCTET_STRING";case 5:return"NULL";case 6:return"OBJECT_IDENTIFIER";case 7:return"ObjectDescriptor";case 8:return"EXTERNAL";case 9:return"REAL";case 10:return"ENUMERATED";case 11:return"EMBEDDED_PDV";case 12:return"UTF8String";case 16:return"SEQUENCE";case 17:return"SET";case 18:return"NumericString";case 19:return"PrintableString";case 20:return"TeletexString";case 21:return"VideotexString";case 22:return"IA5String";case 23:return"UTCTime";case 24:return"GeneralizedTime";case 25:return"GraphicString";case 26:return"VisibleString";case 27:return"GeneralString";case 28:return"UniversalString";case 30:return"BMPString";default:return"Universal_"+t.toString(16)}case 1:return"Application_"+t.toString(16);case 2:return"["+t+"]";case 3:return"Private_"+t.toString(16)}};t.prototype.reSeemsASCII=/^[ -~]+$/;t.prototype.content=function(){var r;if(this.tag===n)return null;var e=this.tag>>6,o=this.tag&31,t=this.posContent(),i=Math.abs(this.length);if(e!==0)return this.sub!==null?"("+this.sub.length+" elem)":(r=this.stream.parseStringISO(t,t+Math.min(i,u)),this.reSeemsASCII.test(r)?r.substring(0,2*u)+(r.length>2*u?f:""):this.stream.parseOctetString(t,t+i));switch(o){case 1:return this.stream.get(t)===0?"false":"true";case 2:return this.stream.parseInteger(t,t+i);case 3:return this.sub?"("+this.sub.length+" elem)":this.stream.parseBitString(t,t+i);case 4:return this.sub?"("+this.sub.length+" elem)":this.stream.parseOctetString(t,t+i);case 6:return this.stream.parseOID(t,t+i);case 16:case 17:return"("+this.sub.length+" elem)";case 12:return this.stream.parseStringUTF(t,t+i);case 18:case 19:case 20:case 21:case 22:case 26:return this.stream.parseStringISO(t,t+i);case 30:return this.stream.parseStringBMP(t,t+i);case 23:case 24:return this.stream.parseTime(t,t+i)}return null};t.prototype.toString=function(){return this.typeName()+"@"+this.stream.pos+"[header:"+this.header+",length:"+this.length+",sub:"+(this.sub===null?"null":this.sub.length)+"]"};t.prototype.print=function(t){if(t===n&&(t=""),document.writeln(t+this),this.sub!==null){t+="  ";for(var i=0,r=this.sub.length;i<r;++i)this.sub[i].print(t)}};t.prototype.toPrettyString=function(t){var i,r,u;if(t===n&&(t=""),i=t+this.typeName()+" @"+this.stream.pos,this.length>=0&&(i+="+"),i+=this.length,this.tag&32?i+=" (constructed)":(this.tag==3||this.tag==4)&&this.sub!==null&&(i+=" (encapsulates)"),i+="\n",this.sub!==null)for(t+="  ",r=0,u=this.sub.length;r<u;++r)i+=this.sub[r].toPrettyString(t);return i};t.prototype.toDOM=function(){var t=r.tag("div","node"),f,n,i,o,s,u,h,e,c;if(t.asn1=this,f=r.tag("div","head"),n=this.typeName().replace(/_/g," "),f.innerHTML=n,i=this.content(),i!==null&&(i=String(i).replace(/</g,"&lt;"),o=r.tag("span","preview"),o.appendChild(r.text(i)),f.appendChild(o)),t.appendChild(f),this.node=t,this.head=f,s=r.tag("div","value"),n="Offset: "+this.stream.pos+"<br/>",n+="Length: "+this.header+"+",n+=this.length>=0?this.length:-this.length+" (undefined)",this.tag&32?n+="<br/>(constructed)":(this.tag==3||this.tag==4)&&this.sub!==null&&(n+="<br/>(encapsulates)"),i!==null&&(n+="<br/>Value:<br/><b>"+i+"<\/b>",typeof oids=="object"&&this.tag==6&&(u=oids[i],u&&(u.d&&(n+="<br/>"+u.d),u.c&&(n+="<br/>"+u.c),u.w&&(n+="<br/>(warning!)")))),s.innerHTML=n,t.appendChild(s),h=r.tag("div","sub"),this.sub!==null)for(e=0,c=this.sub.length;e<c;++e)h.appendChild(this.sub[e].toDOM());return t.appendChild(h),f.onclick=function(){t.className=t.className=="node collapsed"?"node":"node collapsed"},t};t.prototype.posStart=function(){return this.stream.pos};t.prototype.posContent=function(){return this.stream.pos+this.header};t.prototype.posEnd=function(){return this.stream.pos+this.header+Math.abs(this.length)};t.prototype.fakeHover=function(n){this.node.className+=" hover";n&&(this.head.className+=" hover")};t.prototype.fakeOut=function(n){var t=/ ?hover/;this.node.className=this.node.className.replace(t,"");n&&(this.head.className=this.head.className.replace(t,""))};t.prototype.toHexDOM_sub=function(n,t,i,u,f){if(!(u>=f)){var e=r.tag("span",t);e.appendChild(r.text(i.hexDump(u,f)));n.appendChild(e)}};t.prototype.toHexDOM=function(t){var i=r.tag("span","hex"),f,e,u,o;if(t===n&&(t=i),this.head.hexNode=i,this.head.onmouseover=function(){this.hexNode.className="hexCurrent"},this.head.onmouseout=function(){this.hexNode.className="hex"},i.asn1=this,i.onmouseover=function(){var n=!t.selected;n&&(t.selected=this.asn1,this.className="hexCurrent");this.asn1.fakeHover(n)},i.onmouseout=function(){var n=t.selected==this.asn1;this.asn1.fakeOut(n);n&&(t.selected=null,this.className="hex")},this.toHexDOM_sub(i,"tag",this.stream,this.posStart(),this.posStart()+1),this.toHexDOM_sub(i,this.length>=0?"dlen":"ulen",this.stream,this.posStart()+1,this.posContent()),this.sub===null)i.appendChild(r.text(this.stream.hexDump(this.posContent(),this.posEnd())));else if(this.sub.length>0){for(f=this.sub[0],e=this.sub[this.sub.length-1],this.toHexDOM_sub(i,"intro",this.stream,this.posContent(),f.posStart()),u=0,o=this.sub.length;u<o;++u)i.appendChild(this.sub[u].toHexDOM(t));this.toHexDOM_sub(i,"outro",this.stream,e.posEnd(),this.posEnd())}return i};t.prototype.toHexString=function(){return this.stream.hexDump(this.posStart(),this.posEnd(),!0)};t.decodeLength=function(n){var t=n.get(),i=t&127,r;if(i==t)return i;if(i>3)throw"Length over 24 bits not supported at position "+(n.pos-1);if(i===0)return-1;for(t=0,r=0;r<i;++r)t=t<<8|n.get();return t};t.hasContent=function(n,r,u){var f,e,o;if(n&32)return!0;if(n<3||n>4||(f=new i(u),n==3&&f.get(),e=f.get(),e>>6&1))return!1;try{return o=t.decodeLength(f),f.pos-u.pos+o==r}catch(s){return!1}};t.decode=function(n){var f,o,s;n instanceof i||(n=new i(n,0));var h=new i(n),e=n.get(),r=t.decodeLength(n),c=n.pos-h.pos,u=null;if(t.hasContent(e,r,n))if(f=n.pos,e==3&&n.get(),u=[],r>=0){for(o=f+r;n.pos<o;)u[u.length]=t.decode(n);if(n.pos!=o)throw"Content size is not correct for container starting at offset "+f;}else try{for(;;){if(s=t.decode(n),s.tag===0)break;u[u.length]=s}r=f-n.pos}catch(l){throw"Exception while decoding undefined length content: "+l;}else n.pos+=r;return new t(h,c,r,e,u)};t.test=function(){for(var r=[{value:[39],expected:39},{value:[129,201],expected:201},{value:[131,254,220,186],expected:16702650}],n=0,f=r.length;n<f;++n){var e=new i(r[n].value,0),u=t.decodeLength(e);u!=r[n].expected&&document.write("In test["+n+"] expected "+r[n].expected+" got "+u+"\n")}};window.ASN1=t}();ASN1.prototype.getHexStringValue=function(){var n=this.toHexString(),t=this.header*2,i=this.length*2;return n.substr(t,i)};u.prototype.parseKey=function(n){var e,o,s,h,c,l,a,u;try{var i=0,r=0,v=/^\s*(?:[0-9A-Fa-f][0-9A-Fa-f]\s*)+$/.test(n)?Hex.decode(n):Base64.unarmor(n),t=ASN1.decode(v);if(t.sub.length===3&&(t=t.sub[2].sub[0]),t.sub.length===9)i=t.sub[1].getHexStringValue(),this.n=f(i,16),r=t.sub[2].getHexStringValue(),this.e=parseInt(r,16),e=t.sub[3].getHexStringValue(),this.d=f(e,16),o=t.sub[4].getHexStringValue(),this.p=f(o,16),s=t.sub[5].getHexStringValue(),this.q=f(s,16),h=t.sub[6].getHexStringValue(),this.dmp1=f(h,16),c=t.sub[7].getHexStringValue(),this.dmq1=f(c,16),l=t.sub[8].getHexStringValue(),this.coeff=f(l,16);else if(t.sub.length===2)a=t.sub[1],u=a.sub[0],i=u.sub[0].getHexStringValue(),this.n=f(i,16),r=u.sub[1].getHexStringValue(),this.e=parseInt(r,16);else return!1;return!0}catch(y){return!1}};u.prototype.getPrivateBaseKey=function(){var n={array:[new KJUR.asn1.DERInteger({int:0}),new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({int:this.e}),new KJUR.asn1.DERInteger({bigint:this.d}),new KJUR.asn1.DERInteger({bigint:this.p}),new KJUR.asn1.DERInteger({bigint:this.q}),new KJUR.asn1.DERInteger({bigint:this.dmp1}),new KJUR.asn1.DERInteger({bigint:this.dmq1}),new KJUR.asn1.DERInteger({bigint:this.coeff})]},t=new KJUR.asn1.DERSequence(n);return t.getEncodedHex()};u.prototype.getPrivateBaseKeyB64=function(){return vt(this.getPrivateBaseKey())};u.prototype.getPublicBaseKey=function(){var n={array:[new KJUR.asn1.DERObjectIdentifier({oid:"1.2.840.113549.1.1.1"}),new KJUR.asn1.DERNull]},u=new KJUR.asn1.DERSequence(n),t,i,r;return n={array:[new KJUR.asn1.DERInteger({bigint:this.n}),new KJUR.asn1.DERInteger({int:this.e})]},t=new KJUR.asn1.DERSequence(n),n={hex:"00"+t.getEncodedHex()},i=new KJUR.asn1.DERBitString(n),n={array:[u,i]},r=new KJUR.asn1.DERSequence(n),r.getEncodedHex()};u.prototype.getPublicBaseKeyB64=function(){return vt(this.getPublicBaseKey())};u.prototype.wordwrap=function(n,t){if(t=t||64,!n)return n;var i="(.{1,"+t+"})( +|$\n?)|(.{1,"+t+"})";return n.match(RegExp(i,"g")).join("\n")};u.prototype.getPrivateKey=function(){var n="-----BEGIN RSA PRIVATE KEY-----\n";return n+=this.wordwrap(this.getPrivateBaseKeyB64())+"\n",n+"-----END RSA PRIVATE KEY-----"};u.prototype.getPublicKey=function(){var n="-----BEGIN PUBLIC KEY-----\n";return n+=this.wordwrap(this.getPublicBaseKeyB64())+"\n",n+"-----END PUBLIC KEY-----"};u.prototype.hasPublicKeyProperty=function(n){return n=n||{},n.hasOwnProperty("n")&&n.hasOwnProperty("e")};u.prototype.hasPrivateKeyProperty=function(n){return n=n||{},n.hasOwnProperty("n")&&n.hasOwnProperty("e")&&n.hasOwnProperty("d")&&n.hasOwnProperty("p")&&n.hasOwnProperty("q")&&n.hasOwnProperty("dmp1")&&n.hasOwnProperty("dmq1")&&n.hasOwnProperty("coeff")};u.prototype.parsePropertiesFrom=function(n){this.n=n.n;this.e=n.e;n.hasOwnProperty("d")&&(this.d=n.d,this.p=n.p,this.q=n.q,this.dmp1=n.dmp1,this.dmq1=n.dmq1,this.coeff=n.coeff)};g=function(n){u.call(this);n&&(typeof n=="string"?this.parseKey(n):(this.hasPrivateKeyProperty(n)||this.hasPublicKeyProperty(n))&&this.parsePropertiesFrom(n))};g.prototype=new u;g.prototype.constructor=g;o=function(n){n=n||{};this.default_key_size=parseInt(n.default_key_size)||1024;this.default_public_exponent=n.default_public_exponent||"010001";this.log=n.log||!1;this.key=null};o.prototype.setKey=function(n){this.log&&this.key&&console.warn("A key was already set, overriding existing.");this.key=new g(n)};o.prototype.setPrivateKey=function(n){this.setKey(n)};o.prototype.setPublicKey=function(n){this.setKey(n)};o.prototype.decrypt=function(n){try{return this.getKey().decrypt(ii(n))}catch(t){return!1}};o.prototype.encrypt=function(n){try{return vt(this.getKey().encrypt(n))}catch(t){return!1}};o.prototype.getKey=function(n){if(!this.key){if(this.key=new g,n&&{}.toString.call(n)==="[object Function]"){this.key.generateAsync(this.default_key_size,this.default_public_exponent,n);return}this.key.generate(this.default_key_size,this.default_public_exponent)}return this.key};o.prototype.getPrivateKey=function(){return this.getKey().getPrivateKey()};o.prototype.getPrivateKeyB64=function(){return this.getKey().getPrivateBaseKeyB64()};o.prototype.getPublicKey=function(){return this.getKey().getPublicKey()};o.prototype.getPublicKeyB64=function(){return this.getKey().getPublicBaseKeyB64()};o.version="2.3.1";n.JSEncrypt=o});layui.config({base:"/themes/js/modules/"});layui.use(["jquery","form","common"],function(){function i(){n("body").height(n(window).height())}var r=layui.form,n=layui.jquery,t=layui.common;n(".layui-btn-danger").click(function(){document.getElementById("forms").reset()});t.SessionRemove("FYTADMIN_ACCESS_TOKEN");r.on("submit(loginsub)",function(i){var f=new JSEncrypt,u,r;return f.setPrivateKey(i.field.privateKey),u=f.encrypt(i.field.password),n("#password").val(u),i.field.password=u,r=n(".layui-btn-normal"),r.html('<i class="layui-icon layui-anim layui-anim-rotate layui-anim-loop"><\/i>'),r.attr("disabled","disabled"),t.ajax("api/admin/login",i.field,function(i){i.statusCode===200?(t.SetSession("FYTADMIN_ACCESS_TOKEN",i.data),setTimeout(function(){var n=t.getUrlParam("ReturnUrl");window.location.href=n?n:"/fytadmin/index"},1e3)):(n(".login-tip span").html(i.message),n("#password").val(""),n(".login-tip").animate({height:"30px"}),setTimeout(function(){n(".login-tip").animate({height:0});n(".login-tip span").html("")},2500));r.attr("disabled",!1);setTimeout(function(){r.html("登录")},1e3)}),!1});n(window).resize(i);i()});